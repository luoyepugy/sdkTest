define(["./module","zepto"],function(e,n){e.controller("recordDetailCtrl",["$scope","validateService","httpService","messageService","$ionicLoading",function(e,n,t,o,i){e.hasMore=!0;var s="../../json/record.json";i.show({template:"<ion-spinner></ion-spinner><h3>加载中...</h3>",duration:3e3});var r=t.getData(s);r.then(function(n){var t=n.data.items;i.hide(),e.list=t},function(e){o.show(e)}),e.send=function(){var i,s=e.sendMessage;if(i=n.isEmpty(".j-input"),1!==i)return o.show(i),!1;var r=t.getData("../../json/record-send.json",{msg:s});r.then(function(n){e.sendMessage="";for(var t=n.data.items,o=0;o<t.length;o++)e.list.push(t[o])},function(e){o.show(e)})}}])});