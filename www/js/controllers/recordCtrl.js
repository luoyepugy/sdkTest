define(["./module"],function(e){e.controller("recordCtrl",["$scope","httpService","$ionicLoading","messageService",function(e,t,o,n){var a=0,i="../../json/myfeedback.json";e.hasMore=!0,o.show({template:"<ion-spinner></ion-spinner><h3>加载中...</h3>"}),e.toggle=function(){e.show=!e.show};var s=t.getData(i);s.then(function(t){var n=t.data.items;o.hide(),e.list=n},function(e){n.show(e)}),e.doRefresh=function(){var a=t.getData(i,{status:"refresh"});a.then(function(t){var n=t.data.items;o.hide(),e.list=n,e.$broadcast("scroll.refreshComplete")},function(e){n.show(e)})},e.loadMore=function(){var o=t.getData(i,{status:"loadmore",id:a});o.then(function(t){for(var o=t.data.items,n=0;n<o.length;n++)e.list.push(o[n]);0===t.length&&(e.hasMore=!1),e.$broadcast("scroll.infiniteScrollComplete")},function(e){n.show(e)})}}])});