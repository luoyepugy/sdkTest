define(["./module"],function(e){e.controller("recordDetailCtrl",["$scope","validateService","httpService","messageService","$ionicLoading",function(e,t,n,a,o){var r=0;e.hasMore=!0;var s="./json/record.json";o.show({template:"<ion-spinner></ion-spinner><h3>加载中...</h3>",duration:3e3});var i=n.getData(s);i.then(function(t){var n=t.data.items;o.hide(),e.list=n}),e.send=function(){var o,r=e.sendMessage;if(o=t.isEmpty(".j-input"),1!==o)return a.show(o),!1;var s=n.getData("./json/record-send.json",{msg:r});s.then(function(t){e.sendMessage="";for(var n=t.data.items,a=0;a<n.length;a++)e.list.push(n[a])})},e.loadMore=function(){var t=n.getData(s,{status:"loadmore",id:r});t.then(function(t){for(var n=t.data.items,a=0;a<n.length;a++)e.list.push(n[a]);e.$broadcast("scroll.refreshComplete")})}}])});