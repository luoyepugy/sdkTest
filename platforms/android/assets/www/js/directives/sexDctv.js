define(["./module"],function(e){e.directive("ionicSex",["$ionicModal","$timeout","$ionicScrollDelegate",function(e,o,l){return{restrict:"E",scope:{},replace:!0,template:'<input type="text" name="sex" placeholder={{placeholder}} ng-model="$parent.user.sex" value="{{$parent.user.sex}}" readonly>',link:function(n,t,a){sexModel=null,n.user={},n.placeholder=a.placeholder||"未设置",n.okText=a.oktext||"完成",n.barCssClass=a.barcssclass||"bar-dark",n.datas=[{value:"男"},{value:"女"}],n.returnOk=function(){sexModel&&sexModel.hide()},n.getData=function(){o.cancel(n.scrolling),o.cancel(n.dataing);var e=l.$getByHandle("mainScroll").getScrollPosition().top,t=n.datas.length,a=Math.round(e/36);0>a&&(a=0),a>t-1&&(a=t-1),e===36*a?n.dataing=o(function(){n.$parent.user.sex=n.datas[a].value},150):n.scrolling=o(function(){l.$getByHandle("mainScroll").scrollTo(0,36*a,!0)},150)},t.on("click",function(){return a.checked?void(sexModel&&sexModel.show()):(sexModel&&sexModel.remove(),a.checked=!0,void e.fromTemplateUrl("./js/templates/sexTemp.html",{scope:n,animation:"slide-in-up",backdropClickToClose:!0}).then(function(e){sexModel=e,o(function(){n.getData(),sexModel&&sexModel.show()},100)}))}),n.$on("$destroy",function(){sexModel&&sexModel.remove()})}}}])});