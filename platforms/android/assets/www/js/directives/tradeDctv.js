define(["./module"],function(t){t.directive("tradeList",["httpService",function(t){return{restrict:"E",templateUrl:"./js/templates/tradeTemp.html",replace:!0,scope:{list:"=",page:"@"},link:function(e,s,o){var a=0,i=0,n=o.page;e.list=[],e.show=!1,e.hasMore=!0,t.getData("./json/trade.json",{page:n}).then(function(t){var s=t.data.items;e.list=s}),e.doRefresh=function(){e.list.length;i=e.list[0].id,console.log(i),t.getData("./json/trade-more.json",{page:n,status:"refresh",id:i}).then(function(t){var s=t.data.items;e.list=s,e.$broadcast("scroll.refreshComplete")})},e.loadMore=function(){var s=e.list.length;a=e.list[s-1].id,t.getData("./json/trade-more.json",{page:n,status:"loadmore",id:a}).then(function(t){for(var s=t.data.items,o=0;o<s.length;o++)e.list.push(s[o]);0===t.length&&(e.hasMore=!1),e.$broadcast("scroll.infiniteScrollComplete")})},e.toggle=function(){this.show=!this.show}}}}])});