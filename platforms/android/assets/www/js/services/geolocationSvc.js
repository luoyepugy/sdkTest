define(["./module","cordova"],function(e){e.factory("geoService",["$q, $http","$cordovaGeolocation",function(e,o,t){var r={};return r.getGeolocation=function(){var r=e.defer(),c={timeout:1e4,enableHighAccuracy:!1};return t.getCurrentPosition(c).then(function(e){var t=e.coords.latitude,c=e.coords.longitude;o.post("http://www.baidu.com",{lat:t,lng:c}).success(function(e){r.resolve(e)}).error(function(e){r.reject(e.message)})},function(e){switch(e.code){case e.PERMISSION_DENIED:alert("请打开定位功能！");break;case e.POSITION_UNAVAILABLE:alert("不支持定位服务！");break;case e.TIMEOUT:alert("请求超时！");break;case e.UNKNOWN_ERROR:alert("未知异常！")}}),r.promise},r}])});