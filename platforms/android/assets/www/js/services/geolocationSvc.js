define(["./module","cordova"],function(e){e.factory("geoService",["$q","$http","$cordovaGeolocation",function(e,t,r){var o={};return o.getGeolocation=function(){var o=e.defer(),a={timeout:1e4,enableHighAccuracy:!1};return r.getCurrentPosition(a).then(function(e){var r=e.coords.latitude,a=e.coords.longitude;alert(r+""+a),t.post("http://www.baidu.com",{lat:r,lng:a}).success(function(e){o.resolve(e),alert(JSON.stringify(e))}).error(function(e){o.reject(e.message),alert(JSON.stringify(e))})},function(e){switch(e.code){case e.PERMISSION_DENIED:alert("请打开定位功能！");break;case e.POSITION_UNAVAILABLE:alert("不支持定位服务！");break;case e.TIMEOUT:alert("请求超时！");break;case e.UNKNOWN_ERROR:alert("未知异常！")}}),o.promise},o}])});